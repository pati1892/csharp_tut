

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"
 "http://www.w3.org/TR/REC-html40/strict.dtd">

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>L&ouml;sungen zu Kapitel 9</title>
  <link href="/style/core.css" type="text/css" rel="stylesheet" />
</head>
<body>
  <a name="_HTOP_"></a>
  <!-- header  - top, horizontal  -->
  <table class="layout" width="100%" cellpadding="0" cellspacing="0" border="0">
    <colgroup>
      <col width="313" >
      <col width="*" >
      <col width="51" >
      <col width="51" >
      <col width="51" >
      <col width="51" >
    </colgroup>
    <tbody>
	  <tr valign="middle" align="left">
		<td class="topbarLayout" align="right">
		  <a href="/">
			<img width="309" height="66" border="0"
				 alt="Home" src="/style/TitleLogo2.gif">
		  </a>
		</td>
		<td class="topbarLayout">&nbsp;</td>
		<td class="topbarLayout"><a class="bookImage" href="/book/"><img border="1" alt="Cover" title=".NET Application Development" src="/images/cover_Net_en_45.gif"></a></td>
		<td class="topbarLayout"><a class="bookImage" href="/csbook/"><img border="1" alt="Cover" title="C# To the Point" src="/images/cover_Cs_en_45.jpg"></a></td>
		<td class="topbarLayout"><a class="bookImage" href="/buch/"><img border="1" alt="Cover" title="Die .NET-Technologie" src="/images/cover_Net2_de_45.gif"></a></td>
		<td class="topbarLayout"><a class="bookImage" href="/csbuch/"><img border="1" alt="Cover" title="Softwareentwicklung mit C#" src="/images/cover_Cs4_de_45.gif"></a></td>
	  </tr>
	</tbody>
  </table>

  <!-- left menu and content -->
  <table class="layout" width="100%" cellpadding="0" cellspacing="0" border="0">
    <colgroup>
      <col width="168" >
      <col width="8" >
      <col width="*" >
    </colgroup>
    <tbody>
      <tr>
        <td class="navbarLayout" valign="top" width="168">
          <div class="menu">
          	<a class="level1">English books</a><br class="nv">
          	  <a class="level2" href="/csbook/">C# to the Point</a><br class="nv">
          	  <a class="level2" href="/book/">.NET Appl. Development</a><br class="nv">
          	<br>
          	<a class="level1">German books</a><br class="nv">
          	  <a class="level2" href="/csbuch/">Kompaktkurs C# 6.0</a><br class="nv">
          	  <a class="level2" href="/buch/">Die .NET-Technologie</a><br class="nv">
            <br>
            <a class="level1" href="/">Home</a><br class="nv">
            <!-- <a class="level1" href="/news/">News</a><br class="nv"> -->
            <a class="level1" href="/courses/">Course Material</a><br class="nv">
            <a class="level1" href="/applications/">Applications</a><br class="nv">
            <a class="level1" href="/projects/">Projects</a><br class="nv">
            <!-- <a class="level1" href="/events/">Events</a><br class="nv">
            <a class="level1" href="/people/">Contact</a><br class="nv"> -->
            <!-- <a class="level1" href="/links.html">Links</a><br class="nv"> -->
          </div>
          <!--
		  <form class="find" method="post" action="http://www.ssw.uni-linz.ac.at/cgi-bin/htsearch">
			<input type=hidden name=config value=htdig-dotnet>
			<input type=hidden name=restrict value="http://dotnet.jku.at">
			<input type=hidden name=exclude value="">
			<input class="text" type="text" size="16" name="words" value="">
			<input class="button" type="submit" value="Search">
		  </form>
		  -->
        </td>

        <td class="contentLayout" width="8" rowspan="2">&nbsp;
        </td>

        <td class="contentLayout" rowspan="2" align="left" valign="top">
          <!-- Beisskante Template2.html -->
          <!-- Beisskante Seiteninhalt -->


<h2>Objektorienter Entwurf</h2>

<b>A07.cs</b>
<table border='1' cellpadding='5' bgcolor='#E1E1E1'><tr><td><font size="3">
<pre>
<font color="blue">using</font> System;
<font color="blue">using</font> System.Collections;
<font color="blue">using</font> System.Text;

<font color="green">//-------- Article -------</font>

<font color="blue">abstract</font> <font color="blue">class</font> Article {
  <font color="blue">int</font> id;
  <font color="blue">int</font> price; <font color="green">// in Cent</font>
  
  <font color="blue">public</font> Article(<font color="blue">int</font> id, <font color="blue">int</font> price) {
    <font color="blue">this</font>.id = id; <font color="blue">this</font>.price = price;
  }
  
  <font color="blue">public</font> <font color="blue">int</font> Id {
    get { <font color="blue">return</font> id; }
  }
  
  <font color="blue">public</font> <font color="blue">int</font> Price {
    get { <font color="blue">return</font> price; }
  }
  
  <font color="blue">public</font> <font color="blue">abstract</font> <font color="blue">string</font> Description();
  
}

<font color="green">//-------- Book -------</font>

<font color="blue">class</font> Book : Article {
  <font color="blue">string</font> author;
  <font color="blue">string</font> title;
  <font color="blue">string</font> publisher;
  <font color="blue">int</font> year;
  
  <font color="blue">public</font> Book(<font color="blue">int</font> id, <font color="blue">int</font> price, <font color="blue">string</font> author, <font color="blue">string</font> title, <font color="blue">string</font> publisher, <font color="blue">int</font> year)
  : <font color="blue">base</font>(id, price) {
    <font color="blue">this</font>.author = author; <font color="blue">this</font>.title = title; <font color="blue">this</font>.publisher = publisher; <font color="blue">this</font>.year = year;
  }
  
  <font color="blue">public</font> <font color="blue">override</font> <font color="blue">string</font> Description() {
    <font color="blue">return</font> author + ": " + title + ". " + publisher + ", " + year;
  }
}

<font color="green">//-------- CD -------</font>

<font color="blue">class</font> CD : Article {
  <font color="blue">string</font> singer;
  <font color="blue">string</font> title;
  ArrayList songs;
  
  <font color="blue">public</font> CD(<font color="blue">int</font> id, <font color="blue">int</font> price, <font color="blue">string</font> singer, <font color="blue">string</font> title) : <font color="blue">base</font> (id, price) {
    <font color="blue">this</font>.singer = singer; <font color="blue">this</font>.title = title; songs = <font color="blue">new</font> ArrayList();
  }
  
  <font color="blue">public</font> <font color="blue">void</font> AddSong(<font color="blue">string</font> song) {
    songs.Add(song);
  }
  
  <font color="blue">public</font> <font color="blue">string</font> Song(<font color="blue">int</font> i) {
    <font color="blue">if</font> (i < songs.Count) <font color="blue">return</font> (<font color="blue">string</font>)songs[i]; <font color="blue">else</font> <font color="blue">return</font> <font color="blue">null</font>;
  }
  
  <font color="blue">public</font> <font color="blue">int</font> NumberOfSongs {
    get { <font color="blue">return</font> songs.Count; }
  }
  
  <font color="blue">public</font> <font color="blue">override</font> <font color="blue">string</font> Description() {
    <font color="blue">return</font> singer + ": " + title;
  }
}

<font color="green">//-------- Video -------</font>

<font color="blue">class</font> Video : Article {
  <font color="blue">string</font> title;
  <font color="blue">int</font> length;
  
  <font color="blue">public</font> Video(<font color="blue">int</font> id, <font color="blue">int</font> price, <font color="blue">string</font> title, <font color="blue">int</font> length) : <font color="blue">base</font> (id, price) {
    <font color="blue">this</font>.title = title; <font color="blue">this</font>.length = length;
  }
  
  <font color="blue">public</font> <font color="blue">override</font> <font color="blue">string</font> Description() {
    <font color="blue">return</font> title + ". " + length + " minutes";
  }
}

<font color="green">//-------- ShoppingCart -------</font>

<font color="blue">class</font> ShoppingCart {
  ArrayList articles = <font color="blue">new</font> ArrayList();
  
  <font color="blue">public</font> <font color="blue">void</font> Add(Article a) {
    articles.Add(a);
  }
  
  <font color="blue">public</font> <font color="blue">string</font> Contents() {
    StringBuilder s = <font color="blue">new</font> StringBuilder();
    <font color="blue">int</font> total = 0;
    <font color="blue">foreach</font> (Article a <font color="blue">in</font> articles) {
      s.Append(String.Format("{0,6} ", a.Id));
      s.Append(String.Format("{0,7:f2} ", (<font color="blue">float</font>)a.Price / 100));
      s.Append(a.Description() + "\r\n");
      total += a.Price;
    }
    s.Append("--------------\r\n");
    s.Append(String.Format("       {0,7:f2}", (<font color="blue">float</font>)total / 100));
    <font color="blue">return</font> s.ToString();
  }
}

<font color="green">//-------- Shop -------</font>

<font color="blue">class</font> Shop {
  Hashtable articles = <font color="blue">new</font> Hashtable();
  
  <font color="blue">public</font> <font color="blue">void</font> Add(Article a) {
    articles[a.Id] = a;
  }
  
  <font color="blue">public</font> Article Item(<font color="blue">int</font> id) {
    <font color="blue">return</font> (Article)articles[id];
  }
  
}

<font color="blue">class</font> Test {
  <font color="blue">public</font> <font color="blue">static</font> <font color="blue">void</font> Main() {
    Shop shop = <font color="blue">new</font> Shop();
    shop.Add(<font color="blue">new</font> Book(13544, 14999, "Donald Knuth", "The art of computer programming", "Addison-Wesley", 1999));
    shop.Add(<font color="blue">new</font> Book(15922, 1250, "Stephen Hawking", "A brief history of time", "Bantam", 1998));
    shop.Add(<font color="blue">new</font> Book(12768, 1190, "James Joyce", "Ulysses", "Vintage Books", 1990));
    shop.Add(<font color="blue">new</font> CD(24588, 3999, "John Coltrane", "Legacy"));
    shop.Add(<font color="blue">new</font> CD(27335, 11898, "Singers Unlimited", "Magic voices"));
    shop.Add(<font color="blue">new</font> CD(22766, 1198, "Lionell Hampton", "Ring them bells"));
    shop.Add(<font color="blue">new</font> Video(35682, 1754, "Harry Potter and the sorcerer's stone", 120));
    shop.Add(<font color="blue">new</font> Video(38577, 2249, "E.T.", 110));
    
    ShoppingCart cart = <font color="blue">new</font> ShoppingCart();
    cart.Add(shop.Item(27335));
    cart.Add(shop.Item(13544));
    cart.Add(shop.Item(35682));
    
    Console.WriteLine(cart.Contents());
  }
}</pre></font>
</td></tr></table>

<!-- Beisskante Seiteninhalt -->
<!-- Beisskante Template3.html -->

    </td>
  </tr>
    <tr>
      <td class="navbarLayout" valign="bottom">
        <div class="footer">
			<table cellspacing="0" cellpadding="0" width="128" border="0">
			<tbody>
		 	  <tr>
				<td valign="middle" align="center"><a href="http://www.ssw.uni-linz.ac.at/"><img width="48" height="30" border="0" alt="" src="/style/SSWLogo.png"></a></td>
				<!-- td valign="middle" align="center"><a href="http://www.ssw.uni-linz.ac.at/"><img width="55" height="54" border="0" alt="" src="/style/SSWLogoNeu.gif"></a></td -->
				<td valign="middle" align="center"><a href="http://www.jku.at/"><img width="48" height="54" border="0" alt="" src="/style/UniWappen.png"></a></td>
			  </tr>
			</tbody>
		  </table>
          <p>
		    Hosted by the <a href="http://ssw.jku.at">Institute for <br>System Software</a> at
		    the <a href="http://www.jku.at">Johannes Kepler University Linz</a>.
          </p>
          <p>
            Hardware supplied by <br>
            <a href="http://research.microsoft.com/labs/cam.asp">MSR Cambridge</a>
          </p>
          <p>
            <a href="mailto:admin@ssw.jku.at">Webmaster</a> &nbsp;&nbsp;&nbsp;
            <a href="#_HTOP_">Top</a>
          </p>
        </div>
      </td>
    </tr>
  </tbody>
  </table>
<!-- Beisskante Template3.html -->

</body>
</html>
